import{i,o as h,c as y,w as s,a as l,t as u,b as n,g as m,f as C,k as c,v as f}from"./app-99faaeeb.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const F={data(){return{categoriesName:[],form:{categorySelected:null,image:null,title:null,categoryID:null,date:null,hour:null,term:null,participants_number:null,address:null,city:null,country:null,description:null,categoryIndex:null},selectedDate:null,datetime:null,formData:[]}},methods:{handleForm(){return{title:this.form.title,date:this.datetime,term:this.form.term,participants_number:this.form.participants_number,address:this.form.address,description:this.form.description,image:this.form.image,country:this.form.country,city:this.form.city,category:this.form.categoryIndex}},handleFileUpload(o){this.form.image=o.target.files[0],console.log(o.target.files[0])},findCategoryId(){for(let o=0;o<this.categories.length;o++)Object.values(this.categories[o]).includes(this.form.categorySelected)&&(console.log(`La valeur ${this.form.categorySelected} a été trouvée dans le tableau numéro ${o}.`),this.form.categoryIndex=o+1)},concatDateHour(){this.datetime=this.form.date+" "+this.form.hour},handleSubmit(o){o.preventDefault(),this.findCategoryId(),this.concatDateHour();let e=new FormData;e.append("file",o.target.elements.image.files[0]),e.append("title",this.form.title),e.append("categoryID",this.form.categoryIndex),e.append("date",this.datetime),e.append("hour",this.form.hour),e.append("term",this.form.term),e.append("participants_number",this.form.participants_number),e.append("address",this.form.address),e.append("city",this.form.city),e.append("country",this.form.country),e.append("description",this.form.description),console.log(o.target.elements.image.files[0]),axios.post("/api/activity/store",e).then(d=>{window.location.href=d.data.redirect}).catch(d=>{})},sendFormDataRouteWeb(){this.findCategoryId(),this.concatDateHour(),this.formData=new FormData,this.formData.append("file",this.form.image),this.formData.append("title",this.form.title),this.formData.append("categoryID",this.form.categoryIndex),this.formData.append("date",this.datetime),this.formData.append("hour",this.form.hour),this.formData.append("term",this.form.term),this.formData.append("participants_number",this.form.participants_number),this.formData.append("address",this.form.address),this.formData.append("city",this.form.city),this.formData.append("country",this.form.country),this.formData.append("description",this.form.description)},sendForm(){this.findCategoryId(),this.concatDateHour();let o=new FormData;o.append("file",this.form.image),o.append("title",this.form.title),o.append("categoryID",this.form.categoryIndex),o.append("date",this.datetime),o.append("hour",this.form.hour),o.append("term",this.form.term),o.append("participants_number",this.form.participants_number),o.append("address",this.form.address),o.append("city",this.form.city),o.append("country",this.form.country),o.append("description",this.form.description),axios.post("/api/activity/store",o).then(e=>{}).catch(e=>{})}},components:{},props:{categories:Array},computed:{},created(){this.categories.forEach(o=>{this.categoriesName.push(o.name)})}},N=["href"],j=l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[m(" 2"),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),A=[j],B=l("button",null,[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-black mx-auto"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})])],-1),H=l("input",{type:"select"},null,-1),M={class:"datetime"};function L(o,e,d,T,t,p){const g=i("v-file-input"),a=i("v-text-field"),_=i("v-select"),v=i("v-chip"),V=i("v-chip-group"),b=i("v-sheet"),D=i("v-col"),x=i("v-row"),w=i("v-textarea"),I=i("v-btn"),S=i("v-form"),U=i("v-container");return h(),y(U,null,{default:s(()=>[l("nav",null,[l("button",null,[l("a",{href:o.route("home")},A,8,N)]),B]),l("div",null,"Form Activity "+u(p.findCategoryId()),1),n(S,{onSubmit:p.handleSubmit,action:"/store",enctype:"multipart/form-data"},{default:s(()=>[m(" @csrf "),n(g,{label:"Image",onChange:p.handleFileUpload,name:"image",class:"mt-16"},null,8,["onChange"]),n(a,{label:"Titre",modelValue:t.form.title,"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.title=r)},null,8,["modelValue"]),H,n(_,{"return-object":!0,modelValue:t.form.categorySelected,"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.categorySelected=r),label:"Select",items:t.categoriesName,onChange:o.findIdCategorySelected},null,8,["modelValue","items","onChange"]),n(x,{justify:"space-around"},{default:s(()=>[n(D,{cols:"auto"},{default:s(()=>[t.form.categorySelected!=null?(h(),y(b,{key:0,elevation:"10",class:"py-4 px-1"},{default:s(()=>[n(V,{mandatory:"","selected-class":"text-primary"},{default:s(()=>[n(v,{modelValue:t.form.categorySelected,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.categorySelected=r)},{default:s(()=>[m(u(t.form.categorySelected),1)]),_:1},8,["modelValue"])]),_:1}),m(" "+u(t.form.categoryID),1)]),_:1})):C("",!0)]),_:1})]),_:1}),l("div",M,[c(l("input",{type:"date",min:"2018-01-01",max:"2030-12-31","onUpdate:modelValue":e[3]||(e[3]=r=>t.form.date=r)},null,512),[[f,t.form.date]]),c(l("input",{type:"time",id:"appt",name:"appt",min:"00:00",max:"24:00",required:"","onUpdate:modelValue":e[4]||(e[4]=r=>t.form.hour=r)},null,512),[[f,t.form.hour]])]),n(a,{label:"Date de l'activité",modelValue:t.form.date,"onUpdate:modelValue":e[5]||(e[5]=r=>t.form.date=r)},null,8,["modelValue"]),n(a,{label:"Heure de l'activité",modelValue:t.form.hour,"onUpdate:modelValue":e[6]||(e[6]=r=>t.form.hour=r)},null,8,["modelValue"]),c(l("input",{type:"time",id:"appt",name:"appt",min:"00:00",max:"24:00",required:"","onUpdate:modelValue":e[7]||(e[7]=r=>t.form.term=r)},null,512),[[f,t.form.term]]),n(a,{label:"Durée de l'activité",modelValue:t.form.term,"onUpdate:modelValue":e[8]||(e[8]=r=>t.form.term=r)},null,8,["modelValue"]),n(a,{label:"Nombre de participants",modelValue:t.form.participants_number,"onUpdate:modelValue":e[9]||(e[9]=r=>t.form.participants_number=r)},null,8,["modelValue"]),n(a,{label:"Adresse",modelValue:t.form.address,"onUpdate:modelValue":e[10]||(e[10]=r=>t.form.address=r)},null,8,["modelValue"]),n(a,{label:"Ville",modelValue:t.form.city,"onUpdate:modelValue":e[11]||(e[11]=r=>t.form.city=r)},null,8,["modelValue"]),n(a,{label:"Pays",modelValue:t.form.country,"onUpdate:modelValue":e[12]||(e[12]=r=>t.form.country=r)},null,8,["modelValue"]),n(w,{label:"Description de l'activité",modelValue:t.form.description,"onUpdate:modelValue":e[13]||(e[13]=r=>t.form.description=r)},null,8,["modelValue"]),n(I,{type:"submit",block:"",class:"mt-2 primary"},{default:s(()=>[m("Submit")]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const E=k(F,[["render",L]]);export{E as default};
