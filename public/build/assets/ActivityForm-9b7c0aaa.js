import{c as u,w as m,k as n,o as p,a as c,t as s,b as r,g as d,f as C,l as U}from"./app-e38e0622.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const I={data(){return{form:{categoriesName:[],categorySelected:null,image:null,title:null,categoryID:null,date:null,hour:null,term:null,participants_number:null,address:null,city:null,country:null,description:null,categoryIndex:null},selectedDate:null,datetime:null}},methods:{handleForm(){return{title:this.form.title,date:this.datetime,term:this.form.term,participants_number:this.form.participants_number,address:this.form.address,description:this.form.description,image:this.form.image,country:this.form.country,city:this.form.city,category:this.form.categoryIndex}},handleFileUpload(o){this.form.image=o.target.files[0]},findCategoryId(){for(let o=0;o<this.categories.length;o++)Object.values(this.categories[o]).includes(this.form.categorySelected)&&(console.log(`La valeur ${this.form.categorySelected} a été trouvée dans le tableau numéro ${o}.`),this.form.categoryIndex=o+1)},concatDateHour(){this.datetime=this.form.date+" "+this.form.hour},sendForm(){this.findCategoryId(),this.concatDateHour();let o=new FormData;o.append("file",this.form.image),o.append("title",this.form.title),o.append("categoryID",this.form.categoryIndex),o.append("date",this.datetime),o.append("hour",this.form.hour),o.append("term",this.form.term),o.append("participants_number",this.form.participants_number),o.append("address",this.form.address),o.append("city",this.form.city),o.append("country",this.form.country),o.append("description",this.form.description),axios.post("/api/activity/store",o).then(e=>{}).catch(e=>{})}},components:{},props:{categories:Array},created(){this.categories.forEach(o=>{this.form.categoriesName.push(o.name)})}},F=c("input",{type:"select"},null,-1);function N(o,e,k,w,t,a){const f=n("v-file-input"),i=n("v-text-field"),y=n("v-select"),g=n("v-chip"),h=n("v-chip-group"),V=n("v-sheet"),v=n("v-col"),_=n("v-row"),b=n("v-btn"),x=n("v-form"),S=n("v-container");return p(),u(S,null,{default:m(()=>[c("div",null,"Form Activity "+s(a.findCategoryId()),1),r(x,{"validate-on":"submit",onSubmit:e[11]||(e[11]=U(()=>{},["prevent"]))},{default:m(()=>[r(f,{label:"Image",onChange:a.handleFileUpload},null,8,["onChange"]),r(i,{label:"Titre",modelValue:t.form.title,"onUpdate:modelValue":e[0]||(e[0]=l=>t.form.title=l)},null,8,["modelValue"]),F,r(y,{"return-object":!0,modelValue:t.form.categorySelected,"onUpdate:modelValue":e[1]||(e[1]=l=>t.form.categorySelected=l),label:"Select",items:t.form.categoriesName,onChange:o.findIdCategorySelected},null,8,["modelValue","items","onChange"]),r(_,{justify:"space-around"},{default:m(()=>[r(v,{cols:"auto"},{default:m(()=>[t.form.categorySelected!=null?(p(),u(V,{key:0,elevation:"10",class:"py-4 px-1"},{default:m(()=>[r(h,{mandatory:"","selected-class":"text-primary"},{default:m(()=>[r(g,{modelValue:t.form.categorySelected,"onUpdate:modelValue":e[2]||(e[2]=l=>t.form.categorySelected=l)},{default:m(()=>[d(s(t.form.categorySelected),1)]),_:1},8,["modelValue"])]),_:1}),d(" "+s(t.form.categoryID),1)]),_:1})):C("",!0)]),_:1})]),_:1}),r(i,{label:"Date de l'activité",modelValue:t.form.date,"onUpdate:modelValue":e[3]||(e[3]=l=>t.form.date=l)},null,8,["modelValue"]),r(i,{label:"Heure de l'activité",modelValue:t.form.hour,"onUpdate:modelValue":e[4]||(e[4]=l=>t.form.hour=l)},null,8,["modelValue"]),r(i,{label:"Durée de l'activité",modelValue:t.form.term,"onUpdate:modelValue":e[5]||(e[5]=l=>t.form.term=l)},null,8,["modelValue"]),r(i,{label:"Nombre de participants",modelValue:t.form.participants_number,"onUpdate:modelValue":e[6]||(e[6]=l=>t.form.participants_number=l)},null,8,["modelValue"]),r(i,{label:"Adresse",modelValue:t.form.address,"onUpdate:modelValue":e[7]||(e[7]=l=>t.form.address=l)},null,8,["modelValue"]),r(i,{label:"Ville",modelValue:t.form.city,"onUpdate:modelValue":e[8]||(e[8]=l=>t.form.city=l)},null,8,["modelValue"]),r(i,{label:"Pays",modelValue:t.form.country,"onUpdate:modelValue":e[9]||(e[9]=l=>t.form.country=l)},null,8,["modelValue"]),r(i,{label:"Description de l'activité",modelValue:t.form.description,"onUpdate:modelValue":e[10]||(e[10]=l=>t.form.description=l)},null,8,["modelValue"]),r(b,{type:"submit",onClick:a.sendForm,block:"",class:"mt-2 primary"},{default:m(()=>[d("Submit")]),_:1},8,["onClick"])]),_:1})]),_:1})}const B=D(I,[["render",N]]);export{B as default};
